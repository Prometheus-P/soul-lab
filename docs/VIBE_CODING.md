# Vibe Coding Guide

> AI와 함께하는 개발 워크플로우 가이드

---

## 철학

### 핵심 원칙

| 원칙 | 설명 |
|------|------|
| **의도 중심** | 구현 방법보다 "무엇을 왜" 먼저 |
| **점진적 개선** | 완벽보다 작동하는 코드 → 반복 개선 |
| **맥락 공유** | AI에게 충분한 컨텍스트 제공 |
| **신뢰하되 검증** | AI 출력물 리뷰 후 커밋 |

### 효과적인 프롬프트 패턴

```markdown
# 좋은 예
"#9 Prompt Injection 방어 진행해"
"빌드 에러 수정해줘" (에러 메시지 포함 시)
"이 함수 테스트 작성해" (파일 경로 명시)

# 피할 패턴
"코드 좀 개선해줘" (모호함)
"최적화해줘" (범위 불명확)
```

---

## 워크플로우

### 1. 이슈 기반 개발

```bash
# 이슈 확인
gh issue list --state open

# 작업 시작
"#<번호> 이슈 진행해"

# 완료 시 자동으로:
# - 커밋 생성
# - 이슈 클로즈
```

### 2. 일반적인 작업 흐름

| 단계 | 명령/액션 | 설명 |
|------|----------|------|
| 분석 | `이 코드 분석해` | 구조/문제점 파악 |
| 계획 | `TODO 리스트 작성해` | 작업 분해 |
| 구현 | `<기능> 구현해` | 코드 작성 |
| 검증 | `빌드/테스트 실행해` | 검증 |
| 커밋 | `/commit` | 변경사항 커밋 |

### 3. 빠른 명령어

| 명령 | 설명 |
|------|------|
| `/commit` | 스테이징된 변경사항 커밋 |
| `/commit-push-pr` | 커밋 + 푸시 + PR 생성 |
| `다음 이슈 뭐 할까` | 열린 이슈 목록 + 추천 |
| `빌드해` | `pnpm build:web` 실행 |
| `테스트해` | `pnpm test:run` 실행 |

---

## 프로젝트 컨벤션

### 커밋 메시지

```
<type>: <description> (#issue)

Types:
- feat: 새 기능
- fix: 버그 수정
- perf: 성능 개선
- refactor: 리팩토링
- docs: 문서
- test: 테스트
- chore: 빌드/설정
```

### 코드 스타일

- ESLint + Prettier 자동 적용
- 단일 책임 원칙 (SRP)
- 함수당 20줄 이하 권장
- 의미 있는 변수명 (약어 지양)

### 테스트

```bash
# 특정 파일 테스트
npx vitest run src/lib/seed.test.ts

# 전체 테스트
pnpm test:all
```

---

## AI 협업 팁

### 효과적인 컨텍스트 제공

```markdown
# 에러 해결 시
"이 에러 수정해: [에러 메시지 붙여넣기]"

# 기능 구현 시
"UserProfile 컴포넌트에 로그아웃 버튼 추가해.
현재 구조: src/components/UserProfile.tsx"

# 리팩토링 시
"이 함수를 작은 단위로 분리해.
현재 문제: 한 함수가 100줄 넘음"
```

### 피드백 루프

```
1. 요청 → AI 구현
2. 결과 확인
3. 추가 요청/수정 지시
4. 만족 시 커밋
```

### 컨텍스트 유지

- 한 세션에서 관련 작업 연속 진행
- 세션 시작 시 "이전에 #X 작업했었어" 언급
- 복잡한 작업은 단계별로 나누어 진행

---

## 문제 해결

### 빌드 실패 시

```bash
"빌드 에러 수정해"
# AI가 자동으로:
# 1. 에러 분석
# 2. 수정 적용
# 3. 재빌드 검증
```

### 테스트 실패 시

```bash
"실패한 테스트 수정해"
# 또는 특정 테스트:
"src/lib/seed.test.ts 테스트 수정해"
```

### 복잡한 버그

```bash
"이 버그 디버깅해: [증상 설명]"
# RIIFD 프레임워크 적용:
# Reproduce → Isolate → Identify → Fix → Document
```

---

## 체크리스트

### PR 전 확인사항

- [ ] `pnpm build:web` 성공
- [ ] `pnpm test:run` 통과
- [ ] `pnpm lint` 에러 없음
- [ ] 커밋 메시지 컨벤션 준수
- [ ] 불필요한 console.log 제거
- [ ] 민감 정보 노출 없음
- [ ] 이슈 번호 참조됨

### 배포 전 확인사항

- [ ] 환경 변수 설정 완료
- [ ] API 엔드포인트 확인
- [ ] 에러 핸들링 검증
- [ ] 성능 테스트 (번들 크기)

---

## 참고

- [CLAUDE.md](../CLAUDE.md) - 프로젝트 개요
- [ENGINEERING.md](./ENGINEERING.md) - 기술 상세
- [ROLES.md](./ROLES.md) - 역할별 체크리스트
